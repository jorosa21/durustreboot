<div *ngIf="isLoading" class="spinner-wrapper">
  <div class="spinner">Loading...</div>
</div>
<div class="animate__animated animate__fadeInUp" *ngIf="!isLoading">
<div class="profile-page tx-13">
  <div class="row">
    <div class="col-12 grid-margin">
      <div class="profile-header">
        <div class="cover">
          <div class="gray-shade"></div>
          <figure>
            <img src="https://via.placeholder.com/1148x150/727cf5/" class="img-fluid" alt="profile cover">
          </figure>
          <div class="cover-body d-flex justify-content-between align-items-center">
            <div>
              <img class="profile-pic" width="100" height="100" src="{{ img_path }}" alt="profile">
              <span class="profile-name">{{ display_name }}</span>
            </div>
          </div>
        </div>
        <div class="header-links">
          <form [formGroup]="employeeForm">
          <ul ngbNav #defaultNav="ngbNav" [(activeId)]="defaultNavActiveId" class="links d-flex align-items-center mt-3 mt-md-0">
          
            <li [ngbNavItem]="1" class="header-link-item d-flex align-items-center">
              <a ngbNavLink class="pt-1px d-none d-md-block"> 
                <i class="mr-1 icon-md" data-feather="user" appFeatherIcon></i> Personal Information</a>
              <ng-template ngbNavContent>
                <div class="card-header">
                  <div class="row">
                    <div class="col-md-6">
                      <h6>Personal Information</h6>
                    </div>
                    <div class="col-md-6">
                      <ul class="nav justify-content-end">
                        <button class="btn btn-primary btn-icon-text" (click)="submit(1)">
                          <i data-feather="edit" appFeatherIcon class="btn-icon-prepend"></i> Save
                        </button>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="card-body">
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Salutation</label>
                      <ng-select
                      [items]="salutation"
                      bindLabel="description"
                      bindValue="id"
                      placeholder="Select Salutation"
                      formControlName="selectedSalutation">
                    </ng-select>
                    <p class="text-danger mt-1" *ngIf="errSalutation">Salutation is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Display Name</label>
                      <input type="text" (change)="onChange()" formControlName="displayName" class="form-control" placeholder="Display Name">
                      <p class="text-danger mt-1" *ngIf="errDisplayName">Display Name is needed!</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>First Name</label>
                      <input type="text" (change)="onChangeName()" formControlName="firstName" class="form-control" placeholder="First Name">
                      <p class="text-danger mt-1" *ngIf="errFirstName">First Name is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Middle Name</label>
                      <input type="text" (change)="onChangeName()" formControlName="middleName" class="form-control" placeholder="Middle Name">
                      <p class="text-danger mt-1" *ngIf="errMiddleName">Middle Name is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Last Name</label>
                      <input type="text" (change)="onChangeName()" formControlName="lastName" class="form-control" placeholder="Last Name">
                      <p class="text-danger mt-1" *ngIf="errLastName">Last Name is needed!</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Suffix</label>
                      <ng-select
                      [items]="suffix"
                      bindLabel="description"
                      bindValue="id"
                      placeholder="Select Suffix"
                      formControlName="selectedSuffix">
                    </ng-select>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Nickname</label>
                      <input type="text" formControlName="nickname" class="form-control" placeholder="Nickname">
                      <p class="text-danger mt-1" *ngIf="errNickname">Nickname is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Gender</label>
                      <ng-select
                      [items]="gender"
                      bindLabel="description"
                      bindValue="id"
                      placeholder="Select Gender"
                      formControlName="selectedGender">
                    </ng-select>
                    <p class="text-danger mt-1" *ngIf="errGender">Gender is needed!</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Nationality</label>
                      <ng-select
                      [items]="nationality"
                      bindLabel="description"
                      bindValue="id"
                      placeholder="Select Nationality"
                      formControlName="selectedNationality">
                    </ng-select>
                    <p class="text-danger mt-1" *ngIf="errNationality">Nationality is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Birthday</label>
                      <div class="input-group">
                        <input class="form-control" placeholder="mm/dd/yyyy"
                            name="dp" formControlName="selectedDate" (click)="d.toggle()" ngbDatepicker #d="ngbDatepicker">
                        <div class="input-group-append">
                          <button class="btn btn-outline-light btn-icon calendar" type="button" (click)="d.toggle()">
                            <i data-feather="calendar" appFeatherIcon class="text-secondary"></i>
                          </button>
                        </div>
                      </div>
                      <p class="text-danger mt-1" *ngIf="errBirthday">Birthday is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Birthplace</label>
                      <input formControlName="birthplace" type="text" class="form-control" placeholder="Birthplace">
                      <p class="text-danger mt-1" *ngIf="errBirthplace">Birthplace is needed!</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Civil Status</label>
                      <ng-select
                      [items]="civilstatus"
                      bindLabel="description"
                      bindValue="id"
                      placeholder="Select Civil Status"
                      formControlName="selectedCivilStatus">
                    </ng-select>
                    <p class="text-danger mt-1" *ngIf="errCivilstatus">Civil Status is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Height</label>
                      <input type="text" formControlName="height" class="form-control" placeholder="Height">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Weight</label>
                      <input type="text" formControlName="weight" class="form-control" placeholder="Weight">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Blood Type</label>
                      <ng-select
                      [items]="bloodtype"
                      bindLabel="description"
                      bindValue="id"
                      placeholder="Select Blood Type"
                      formControlName="selectedBloodType">
                    </ng-select>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Religion</label>
                      <ng-select
                      [items]="religion"
                      bindLabel="description"
                      bindValue="id"
                      placeholder="Select Religion"
                      formControlName="selectedReligion">
                    </ng-select>
                    <p class="text-danger mt-1" *ngIf="errReligion">Religion is needed!</p>
                    </div>
                  </div>
                </div>
                <hr>
                <div class="row">
                  <div class="col-md-6">
                    <h6>Contact Information</h6>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Mobile</label>
                      <input type="text" formControlName="mobile" class="form-control" placeholder="Mobile">
                      <p class="text-danger mt-1" *ngIf="errMobile">Mobile number is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Phone</label>
                      <input type="text" formControlName="phone" class="form-control" placeholder="Phone">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Office</label>
                      <input type="text" formControlName="office" class="form-control" placeholder="Office">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Personal Email</label>
                      <input type="text" formControlName="personalemail" class="form-control" placeholder="Personal Email">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Company Email</label>
                      <input type="text" formControlName="companyemail" class="form-control" placeholder="Email">
                      <p class="text-danger mt-1" *ngIf="errEmail">Email Address is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Alternate Number</label>
                      <input type="text" formControlName="alternatenumber" class="form-control" placeholder="Alternate Number">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label>Present Address</label>
                      <textarea class="form-control" formControlName="presentaddress" rows="5"></textarea>
                      <p class="text-danger mt-1" *ngIf="errPresentAddress">Present Address is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label>Permanent Address</label>
                      <textarea class="form-control" formControlName="permamentaddress" rows="5"></textarea>
                      <p class="text-danger mt-1" *ngIf="errPermanentAddress">Permanent Address is needed!</p>
                    </div>
                  </div>
                </div>
                </div>
              </ng-template>
            </li> 
            <li [ngbNavItem]="2" class="header-link-item d-flex align-items-center">
              <a ngbNavLink class="pt-1px d-none d-md-block">
                <i class="mr-1 icon-md" data-feather="columns" appFeatherIcon></i> Work Information</a>
              <ng-template ngbNavContent>
                <div class="card-header">
                  <div class="row">
                    <div class="col-md-6">
                      <h6>Work Information</h6>
                    </div>
                    <div class="col-md-6">
                      <ul class="nav justify-content-end">
                        <button class="btn btn-primary btn-icon-text" (click)="submit(2)">
                          <i data-feather="edit" appFeatherIcon class="btn-icon-prepend"></i> Save
                        </button>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="card-body">
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Biometrics ID</label>
                      <input formControlName="biometricsID" type="text" class="form-control" placeholder="Biometrics ID">
                      <p class="text-danger mt-1" *ngIf="errBiometrics">Biometrics is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Employee ID</label>
                      <input formControlName="employeeID" type="text" class="form-control" placeholder="Employee ID">
                      <p class="text-danger mt-1" *ngIf="errEmployeeCode">Employee Code is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Branch</label>
                      <ng-select
                      [items]="branch"
                      bindLabel="branch_name"
                      bindValue="branch_id"
                      placeholder="Select Branch"
                      formControlName="selectedBranch">
                    </ng-select>
                    <p class="text-danger mt-1" *ngIf="errBranch">Branch is needed!</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Employee Status</label>
                      <ng-select
                      [items]="employeestatus"
                      bindLabel="description"
                      bindValue="id"
                      placeholder="Select Employee Status"
                      formControlName="selectedEmployeeStatus">
                    </ng-select>
                    <p class="text-danger mt-1" *ngIf="errEmployeeStatus">Employee Status is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Occupation</label>
                      <ng-select
                      [items]="occupation"
                      bindLabel="description"
                      bindValue="id"
                      placeholder="Select Occupation"
                      formControlName="selectedOccupation">
                    </ng-select>
                    <p class="text-danger mt-1" *ngIf="errOccupation">Occupation is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Supervisor</label>
                      <ng-select
                      [items]="supervisor"
                      bindLabel="display_name"
                      bindValue="employee_id"
                      placeholder="Select Supervisor"
                      formControlName="selectedSupervisor">
                    </ng-select>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Department</label>
                      <ng-select
                      [items]="department"
                      bindLabel="description"
                      bindValue="id"
                      placeholder="Select Department"
                      formControlName="selectedDepartment">
                    </ng-select>
                    <p class="text-danger mt-1" *ngIf="errDepartment">Department is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Date Hired</label>
                      <input class="form-control" placeholder="mm/dd/yyyy"
                      name="dp" formControlName="dateHired"  (click)="d.toggle()" ngbDatepicker #d="ngbDatepicker">
                      <p class="text-danger mt-1" *ngIf="errDateHired">Date Hired is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Regularization Date</label>
                      <input class="form-control" placeholder="mm/dd/yyyy"
                      name="dp" formControlName="regularizationDate" (click)="d2.toggle()" ngbDatepicker #d2="ngbDatepicker">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Cost Center</label>
                      <ng-select
                      [items]="costcenter"
                      bindLabel="description"
                      bindValue="id"
                      placeholder="Select Cost Center"
                      formControlName="selectedCostCenter">
                    </ng-select>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Category</label>
                      <ng-select
                      [items]="category"
                      bindLabel="category_name"
                      bindValue="category_id"
                      placeholder="Select Category"
                      formControlName="selectedCategory">
                    </ng-select>
                    <p class="text-danger mt-1" *ngIf="errCategory">Category is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Division</label>
                      <ng-select
                      [items]="division"
                      bindLabel="description"
                      bindValue="id"
                      placeholder="Select Division"
                      formControlName="selectedDivision">
                    </ng-select>
                    </div>
                  </div>
                </div>
                </div>                
              </ng-template>
            </li> 
            <li [ngbNavItem]="3" class="header-link-item d-flex align-items-center">
              <a ngbNavLink class="pt-1px d-none d-md-block">
                <i class="mr-1 icon-md" data-feather="book-open" appFeatherIcon></i> Payroll Information</a>
              <ng-template ngbNavContent>
                <div class="card-header">
                  <div class="row">
                    <div class="col-md-6">
                      <h6>Payroll Information</h6>
                    </div>
                    <div class="col-md-6">
                      <ul class="nav justify-content-end">
                        <button class="btn btn-primary btn-icon-text" (click)="submit(3)">
                          <i data-feather="edit" appFeatherIcon class="btn-icon-prepend"></i> Save
                        </button>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="card-body">
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Payroll Type</label>
                      <ng-select
                      [items]="payrolltype"
                      bindLabel="description"
                      bindValue="id"
                      placeholder="Select Payroll Type"
                      formControlName="selectedPayrollType">
                    </ng-select>
                    <p class="text-danger mt-1" *ngIf="errPayrollType">Payroll Type is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Monthly Rate</label>
                      <input type="text" formControlName="monthlyRate" class="form-control" placeholder="Monthly Rate">
                      <p class="text-danger mt-1" *ngIf="errMonthlyRate">Monthly Rate is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Semi Monthly Rate</label>
                      <input type="text" formControlName="semiMonthlyRate" class="form-control" placeholder="Semi Monthly Rate">
                      <p class="text-danger mt-1" *ngIf="errSemiMonthlyRate">Semi Monthly Rate is needed!</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Factor Rate</label>
                      <input type="text" formControlName="factorRate" class="form-control" placeholder="Factor Rate">
                      <p class="text-danger mt-1" *ngIf="errFactorRate">Factor Rate is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Daily Rate</label>
                      <input type="text" formControlName="dailyRate" class="form-control" placeholder="Daily Rate">
                      <p class="text-danger mt-1" *ngIf="errDailyRate">Daily Rate is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Hourly Rate</label>
                      <input type="text" formControlName="hourlyRate" class="form-control" placeholder="Hourly Rate">
                      <p class="text-danger mt-1" *ngIf="errHourlyRate">Hourly Rate is needed!</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Bank</label>
                      <ng-select
                      [items]="bank"
                      bindLabel="description"
                      bindValue="id"
                      placeholder="Select Bank"
                      formControlName="selectedBank">
                    </ng-select>
                    <p class="text-danger mt-1" *ngIf="errBank">Bank is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Bank Account</label>
                      <input type="text" formControlName="bankAccount" class="form-control" placeholder="Bank Account">
                      <p class="text-danger mt-1" *ngIf="errBankAccount">Bank Account is needed!</p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group">
                      <label>Confidential</label>
                      <ng-select
                      [items]="confidential"
                      bindLabel="description"
                      bindValue="id"
                      placeholder="Select Confidential"
                      formControlName="selectedConfidential">
                    </ng-select>
                    <p class="text-danger mt-1" *ngIf="errConfidential">Confidential is needed!</p>
                    </div>
                  </div>
                </div>
                </div>
              </ng-template>
            </li> 
            <li [ngbNavItem]="4" class="header-link-item d-flex align-items-center">
              <a ngbNavLink class="pt-1px d-none d-md-block">
                <i class="mr-1 icon-md" data-feather="shuffle" appFeatherIcon></i> Addition and Deduction</a>
              <ng-template ngbNavContent>
                <p>Addition and Deduction</p>
              </ng-template>
            </li> 
            <li [ngbNavItem]="5" class="header-link-item d-flex align-items-center">
              <a ngbNavLink class="pt-1px d-none d-md-block">
                <i class="mr-1 icon-md" data-feather="clock" appFeatherIcon></i> Shift</a>
              <ng-template ngbNavContent>
                <p>Shift</p>
              </ng-template>
            </li> 
            <li [ngbNavItem]="6" class="header-link-item d-flex align-items-center">
              <a ngbNavLink class="pt-1px d-none d-md-block">
                <i class="mr-1 icon-md" data-feather="anchor" appFeatherIcon></i> Leave</a>
              <ng-template ngbNavContent>
                <p>Leave</p>
              </ng-template>
            </li> 
          </ul>
        </form>
        </div>
      </div>
    </div>
  </div>
  <div class="row profile-body">
    <div class="d-none d-md-block col-md-12 col-xl-12">
      <div class="card rounded">
        <div [ngbNavOutlet]="defaultNav" class="mt-3"></div>
          <!-- <router-outlet></router-outlet> -->
    </div>
 
  </div>
</div>
</div>
</div>